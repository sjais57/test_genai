curl -X PUT http://127.0.0.1:9180/apisix/admin/routes/llm4mdd-triton-text-generation \
  -H "X-API-KEY: edd1c9f034335f136f87ad84b625c8f1" \
  -H "Content-Type: application/json" \
  -d '{
    "uri": "/llm4mdd/triton/generate",
    "plugins": {
      "file-logger": {
        "path": "/usr/local/apisix/logs/llm4mdd.log",
        "batch_max_size": 1,

        "include_req_body": true,
        "include_resp_body": true,

        "include_req_body_expr": [
          [
            ["status", ">=", 200],
            ["status", "<=", 599]
          ]
        ],
        "include_resp_body_expr": [
          [
            ["status", ">=", 200],
            ["status", "<=", 599]
          ]
        ],

        "log_format": {
          "time": "$time_iso8601",
          "route_id": "$route_id",
          "client_ip": "$remote_addr",
          "method": "$request_method",
          "uri": "$uri",
          "status": "$status",
          "req_size": "$request_length",
          "resp_size": "$body_bytes_sent",
          "req_body": "$request_body",
          "resp_body": "$resp_body",
          "user_agent": "$http_user_agent"
        }
      }
    },
    "upstream": {
      "type": "roundrobin",
      "nodes": {
        "client_ip:443": 1
      },
      "scheme": "https"
    }
  }'
